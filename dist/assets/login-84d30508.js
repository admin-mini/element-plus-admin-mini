import{u as W,r as _,a as k,b as f,$ as w,c as s,o as E,d as M,e as n,f as o,w as a,g,t as D,h as b,i as B,E as v}from"./index-e28310cd.js";import{M as C}from"./md5-8baa7700.js";import{u as $}from"./index-0a81c66f.js";const A="/element-plus-admin-mini/static/login-banner.png";const F={class:"admin-login-container"},P={class:"admin-login"},T=n("div",{class:"admin-login-banner"},[n("img",{src:A})],-1),U={class:"admin-login-form"},j=n("h3",{class:"title"},"管理员登录",-1),O={__name:"login",setup(q){const y=W(),p=_(),r=k(),t=f({userName:"admin",passWord:"123456"}),N=f({userName:[w.required]}),m=_(!1);function V(){p.value.validate(d=>{if(d){let e=Object.assign({},t);e.passWord=C(e.passWord,32),m.value=!0,$(e).then(l=>{l.data.code==0?(r.login(l.data.data),y.replace("/")):v.error(l.data.msg)}).finally(()=>{m.value=!1})}else v.warning("请填写完整信息")})}return(d,e)=>{const l=s("Notification"),h=s("el-icon"),c=s("el-input"),u=s("el-form-item"),x=s("el-button"),S=s("el-form");return E(),M("div",F,[n("div",{class:"header",onClick:e[0]||(e[0]=(...i)=>b(r).increment&&b(r).increment(...i))},[o(h,{size:"40px"},{default:a(()=>[o(l)]),_:1}),g(" "+D(d.$env.VITE_APP_NAME),1)]),n("div",P,[T,n("div",U,[j,o(S,{model:t,rules:N,onSubmit:B(V,["prevent"]),ref_key:"postForm",ref:p},{default:a(()=>[o(u,{label:"",prop:"userName",style:{"margin-bottom":"40px"}},{default:a(()=>[o(c,{autocomplete:"off",modelValue:t.userName,"onUpdate:modelValue":e[1]||(e[1]=i=>t.userName=i),placeholder:"请输入登录账号"},null,8,["modelValue"])]),_:1}),o(u,{label:"",prop:"passWord",style:{"margin-bottom":"40px"}},{default:a(()=>[o(c,{modelValue:t.passWord,"onUpdate:modelValue":e[2]||(e[2]=i=>t.passWord=i),type:"password",placeholder:"请输入登录密码"},null,8,["modelValue"])]),_:1}),o(u,null,{default:a(()=>[o(x,{"native-type":"submit",autocomplete:"off",loading:m.value,type:"primary",class:"admin-block-button login-btn"},{default:a(()=>[g(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules","onSubmit"])])])])}}};export{O as default};
