import{u as w,r as _,a as S,b as f,$ as W,c as s,o as M,d as B,e as n,f as o,w as a,g,h as b,i as C,E as v}from"./index-b4104920.js";import{M as D}from"./md5-8baa7700.js";import{u as E}from"./index-3fd1d554.js";const F="/element-plus-admin-pure/static/login-banner.png";const U={class:"admin-login-container"},$={class:"admin-login"},j=n("div",{class:"admin-login-banner"},[n("img",{src:F})],-1),q={class:"admin-login-form"},z=n("h3",{class:"title"},"管理员登录",-1),A={__name:"login",setup(L){const y=w(),u=_(),r=S(),t=f({code:"123"}),N=f({userName:[W.required]}),m=_(!1);function V(){u.value.validate(c=>{if(c){let e=Object.assign({},t);e.passWord=D(e.passWord,32),m.value=!0,E(e).then(l=>{l.data.code==0?(r.login(l.data.data),y.replace("/")):v.error(l.data.msg)}).finally(()=>{m.value=!1})}else v.warning("请填写完整信息")})}return(c,e)=>{const l=s("Notification"),h=s("el-icon"),p=s("el-input"),d=s("el-form-item"),x=s("el-button"),k=s("el-form");return M(),B("div",U,[n("div",{class:"header",onClick:e[0]||(e[0]=(...i)=>b(r).increment&&b(r).increment(...i))},[o(h,{size:"54px"},{default:a(()=>[o(l)]),_:1}),g(" 管理平台 ")]),n("div",$,[j,n("div",q,[z,o(k,{model:t,rules:N,onSubmit:C(V,["prevent"]),ref_key:"postForm",ref:u},{default:a(()=>[o(d,{label:"",prop:"userName",style:{"margin-bottom":"40px"}},{default:a(()=>[o(p,{autocomplete:"off",modelValue:t.userName,"onUpdate:modelValue":e[1]||(e[1]=i=>t.userName=i),placeholder:"请输入登录账号"},null,8,["modelValue"])]),_:1}),o(d,{label:"",prop:"passWord",style:{"margin-bottom":"40px"}},{default:a(()=>[o(p,{modelValue:t.passWord,"onUpdate:modelValue":e[2]||(e[2]=i=>t.passWord=i),type:"password",placeholder:"请输入登录密码"},null,8,["modelValue"])]),_:1}),o(d,null,{default:a(()=>[o(x,{"native-type":"submit",autocomplete:"off",loading:m.value,type:"primary",class:"admin-block-button login-btn"},{default:a(()=>[g(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules","onSubmit"])])])])}}};export{A as default};
